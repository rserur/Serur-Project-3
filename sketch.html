<html>

<head>
    <script src='processing.js'></script>
    <style>
    canvas {
        outline: none;
    }
    /* So that when we click, the canvas isn't outlined */
    </style>
</head>

<body>
    <canvas></canvas>
</body>

<script>
var canvas = document.getElementsByTagName('canvas')[0];
var acousticness;
var danceability;
var duration;
var energy;
var key;
var tempo;


function sketch(p) {

    function setup() {
        p.size(300, 300);

        p.rectMode(p.CENTER);

        p.frameRate(10);

        //p.noLoop();
    }

    function draw() {
        p.background(238);
        grid(10);
    }

    function grid(gridSize) {
        var gridW = 25;
        var gridH = 25;

        


        for (var row = 0; row < 10; row++) {

         tempo = (p.random(40,170)/gridSize)/100;
         acousticness = p.random(1);
         danceability = p.random(1);
         duration = p.random(250)/40;
         energy = p.random(1);
         key = p.random(12);

            for (var col = 0; col < duration; col++) {
                p.noStroke();
                p.fill(tempo * 100, acousticness * 100, acousticness * 100);
                //rect(x,y,w,h);... currently, energy is bar thickness, duration is bar length
                p.rect(15 + (col * 30), 15 + (row * 30), gridW * acousticness, gridH * danceability);
                p.fill(danceability * 200, 0, energy * 30);
                p.rect(15 + (col * 30), 15 + (row * 30), gridW * duration, gridH * energy + col*2);
            }
        }
    }

    p.setup = setup;
    p.draw = draw;

}

var p = new Processing(canvas, sketch); // actually attach and run the sketch
</script>

</html>
